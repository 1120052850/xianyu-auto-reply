# 📋 更新日志

本文档记录了闲鱼自动回复管理系统的所有重要更新和变更。

## [v2.0.1] - 2024-07-24

### 🔧 功能改进
- **回复优先级优化**：调整自动回复逻辑，关键词回复优先于AI回复
  - 新的优先级顺序：API回复 → 关键词回复 → AI回复 → 默认回复
  - 确保重要关键词能够精确匹配，AI回复作为智能补充
  - 提高回复的准确性和用户体验

### 📚 文档更新
- 更新AI回复功能指南中的优先级说明
- 更新使用说明中的回复逻辑描述
- 更新README.md中的功能特性说明

## [v2.0.0] - 2024-07-24

### 🎉 重大更新
- **AI智能回复系统**：集成多种AI模型，支持智能对话和议价
- **商品管理功能**：自动收集和管理商品信息
- **实时日志系统**：完整的日志收集、查看和分析功能
- **Docker容器化**：完整的Docker部署支持

### ✨ 新增功能
- **多AI模型支持**：支持通义千问、GPT等主流AI模型
- **智能意图识别**：自动识别价格咨询、技术问题、通用咨询
- **智能议价系统**：阶梯式降价策略，可设置最大优惠幅度
- **商品信息自动收集**：消息触发时自动提取并保存商品信息
- **批量商品获取**：一键获取账号下所有商品信息
- **实时日志查看**：Web界面实时查看系统运行日志
- **日志过滤和搜索**：支持按级别、来源、关键词过滤日志
- **系统健康监控**：完整的系统健康检查和监控
- **数据备份恢复**：支持完整的数据备份和恢复功能

### 🔧 功能改进
- **用户界面优化**：现代化的Web界面设计
- **性能优化**：异步处理，提高系统并发能力
- **安全增强**：JWT认证，数据加密存储
- **错误处理**：完善的错误处理和重试机制
- **配置管理**：灵活的配置文件管理系统

### 🐛 问题修复
- 修复WebSocket连接不稳定的问题
- 修复Cookie失效时的自动刷新机制
- 修复数据库并发访问的问题
- 修复文件上传的安全问题
- 修复日志文件过大的问题

### 📚 文档更新
- 完整的README.md文档
- 详细的功能使用说明
- Docker部署指南
- API接口文档
- 故障排除指南

## [v1.5.0] - 2024-06-15

### ✨ 新增功能
- **自动发货增强**：支持API接口类型卡券
- **批量数据管理**：支持批量导入和管理卡券
- **发货规则优化**：更智能的商品匹配算法
- **消息通知格式化**：美化消息通知格式

### 🔧 功能改进
- 优化自动发货匹配逻辑
- 改进卡券管理界面
- 增强错误处理机制
- 提升系统稳定性

### 🐛 问题修复
- 修复发货规则匹配不准确的问题
- 修复批量数据消耗过快的问题
- 修复API接口调用失败的问题

## [v1.4.0] - 2024-05-20

### ✨ 新增功能
- **多账号管理**：支持同时管理多个闲鱼账号
- **关键词回复**：每个账号独立的关键词回复设置
- **用户认证系统**：安全的登录认证机制
- **数据持久化**：SQLite数据库存储

### 🔧 功能改进
- 重构代码架构，提高可维护性
- 优化数据库设计
- 改进用户界面体验
- 增强系统安全性

## [v1.3.0] - 2024-04-25

### ✨ 新增功能
- **自动发货功能**：支持自动发送卡券和虚拟商品
- **发货规则配置**：灵活的发货规则设置
- **卡券管理**：支持多种卡券类型管理

### 🔧 功能改进
- 优化消息处理逻辑
- 改进WebSocket连接稳定性
- 增强日志记录功能

## [v1.2.0] - 2024-03-30

### ✨ 新增功能
- **Web管理界面**：现代化的Web管理界面
- **实时状态监控**：实时查看系统运行状态
- **配置文件管理**：可视化配置文件编辑

### 🔧 功能改进
- 优化自动回复逻辑
- 改进错误处理机制
- 增强系统稳定性

## [v1.1.0] - 2024-02-28

### ✨ 新增功能
- **关键词匹配**：支持关键词自动回复
- **变量替换**：支持消息中的变量替换
- **日志系统**：完整的日志记录功能

### 🔧 功能改进
- 优化WebSocket连接处理
- 改进消息解析逻辑
- 增强系统容错能力

## [v1.0.0] - 2024-01-15

### 🎉 首次发布
- **基础自动回复**：支持闲鱼消息自动回复
- **WebSocket连接**：稳定的WebSocket连接机制
- **Token管理**：自动Token刷新和管理
- **消息处理**：完整的消息接收和处理流程

---

## 📝 版本说明

### 版本号规则
- **主版本号**：重大功能更新或架构变更
- **次版本号**：新功能添加或重要改进
- **修订版本号**：问题修复和小幅改进

### 更新类型说明
- 🎉 **重大更新**：重要的新功能或架构变更
- ✨ **新增功能**：新增的功能特性
- 🔧 **功能改进**：现有功能的优化和改进
- 🐛 **问题修复**：Bug修复和问题解决
- 📚 **文档更新**：文档和说明的更新
- 🔒 **安全更新**：安全相关的更新和修复

### 兼容性说明
- **向后兼容**：新版本保持与旧版本的兼容性
- **配置迁移**：提供配置文件自动迁移功能
- **数据迁移**：提供数据库自动升级功能

---

**注意**：建议在升级前备份重要数据，详细的升级指南请参考相关文档。
